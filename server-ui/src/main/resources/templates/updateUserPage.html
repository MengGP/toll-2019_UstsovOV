<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <title>UPDATE user page</title>
</head>

<body>
<h1 th:inline="text">Manage page - edit user</h1>
<p>--------------------------------------------------------</p>

 <p th:text="(${resultCode} == null) ? ' Пользователь:' : ''" />
 <p th:text="(${resultCode} == 0) ? ' Заполнены не все поля ' : ''" />
 <p th:text="(${resultCode} == 1) ? ' Пользователь обновлен ' : ''" />
 <p th:text="(${resultCode} == 2) ? ' Неуникальное имя пользователя ' : ''" />
 <p th:text="(${resultCode} == 3) ? ' Неверно указана роль ' : ''" />
 <p th:text="(${resultCode} == 4) ? ' Ошибка БД ' : ''" />

<p>--------------------------------------------------------</p>

<p th:text="'login:    '+ ${currentName}"/>
<p th:text="'password: '+ ${currentPassword}"/>
<p th:text="'role:     '+ ${currentRole}"/>
<p>--------------------------------------------------------</p>
<p>

<form th:action="@{/updateUserRequest}">
    <input type="hidden" name="currentIDUpd" th:value="${currentID}"/>
    <input type="hidden" name="currentNameUpd" th:value="${currentName}"/>
    <input type="hidden" name="currentPasswordUpd" th:value="${currentPassword}"/>
    <input type="hidden" name="currentRoleUpd" th:value="${currentRole}"/>
    <input type="text" name="newName" th:value="${currentName}"/>
    <input type="text" name="newPassword" th:value="${currentPassword}"/>
    <input type="text" name="newRole" list="roleList" th:value="${currentRole}"/>
        <datalist id="roleList">
            <option>ROLE_CLIENT</option>
            <option>ROLE_MANAGER</option>
            <option>ROLE_ROOT</option>
        </datalist>
    <input th:hidden="${currentID}" name="newID" value="${currentID}"/>
    <button> UPDATE </button>
</form>

</p>



<p> Вернуться к "user DB page" <a th:href="@{/userDBPage}">тык</a>.</p>
<form th:action="@{/logout}" method="post">
    <input type="submit" value="Выйти из системы"/>
</form>

</body>
</html>